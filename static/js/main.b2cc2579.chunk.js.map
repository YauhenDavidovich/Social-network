{"version":3,"sources":["reportWebVitals.ts","api/api.ts","redux/profile-reducer.ts","redux/dialog-reducer.ts","redux/sidebar-reducer.ts","redux/users-reducer.ts","redux/auth-reducer.ts","redux/redux-store.ts","components/Navbar/Navbar.tsx","components/Music/Music.tsx","components/News/News.tsx","components/Settings/Settings.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","assets/user-photo.png","components/Users/Users.tsx","assets/bars.svg","components/common/Preloader/Preloader.tsx","components/Users/UsersContainer.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/LoginForm.tsx","App.tsx","index.tsx","components/Navbar/Navbar.module.css","components/Dialogs/Diaologs.module.css","components/Users/Users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css","components/common/Preloader/Preloader.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","create","withCredentials","baseURL","headers","api","pageNumber","pageSize","get","response","data","userId","id","post","delete","status","put","email","password","rememberMe","ADD_POST","SET_USER_PROFILE","SET_STATUS","initialState","posts","message","likesCount","newPostsText","profile","fullName","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","lookingForAJobDescription","photos","small","large","addPostAC","postText","type","setStatus","getUserProfile","dispatch","profileReducer","state","action","newPost","dialogs","name","messages","dialogsReducer","body","sidebarReducer","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","SET_USERS","FOLLOW","UNFOLLOW","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","users","totalUsersCount","currentPage","isFetching","followingInProgress","setUsers","setTotalUsersCount","count","toggleIsFetching","toggleFollowingInProgress","usersReducer","map","u","userID","followed","filter","SET_USER_DATA","login","isAuth","setAuthUserData","resultCode","alert","catch","e","error","console","log","authReducer","rootReducer","combineReducers","profilePage","dialogPage","sidebar","auth","store","createStore","applyMiddleware","thunkMiddleware","window","Navbar","className","styles","nav","item","to","activeClassName","active","Music","News","Settings","DialogItem","props","path","style","dialog","Message","AddMessageForm","useDispatch","formik","useFormik","initialValues","validate","values","errors","length","onSubmit","resetForm","Grid","container","justify","xs","handleSubmit","FormControl","FormGroup","TextField","label","margin","variant","onChange","handleChange","value","onBlur","handleBlur","touched","color","Button","Dialogs","dialogElements","d","messageElements","m","dialogs__items","mapStateToProps","withAuthRedirect","Component","connect","restProps","compose","Users","pagesCount","Math","ceil","pages","i","push","p","selectedPage","onClick","onPageChanged","usersPage","src","userPhoto","disabled","some","unfollow","follow","Preloader","preloader","UsersContainer","setCurrentPage","items","this","getUsers","React","totalCount","ProfileStatus","editMode","activateEditMode","setState","deActivateEditMode","updateStatus","onStatusChange","currentTarget","prevProps","prevState","onDoubleClick","autoFocus","ProfileInfo","description__block","Post","AddNewPost","MyPostsContainer","addPost","postElements","posts__block","Profile","getStatus","withRouter","useEffect","match","params","usrID","Header","header","loginBlock","logout","Login","isLoggedIn","useSelector","test","FormLabel","href","target","FormControlLabel","control","Checkbox","LoginForm","App","render","DialogsContainer","component","ReactDOM","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b2cc2579.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import axios from \"axios\";\r\nimport {ProfileResponseType} from \"../redux/profile-reducer\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '7182e7e1-cf7b-49da-8e89-52ae747000d8'\r\n    }\r\n})\r\n\r\n\r\n\r\nexport const api = {\r\n    getUsers(pageNumber = 1, pageSize = 10) {\r\n        return instance.get(`/users?page=${pageNumber}&count=${pageSize}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    checkAuth(){\r\n        return instance.get(`/auth/me`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getProfile(userId:string){\r\n        return instance.get<ProfileResponseType>(`profile/${userId}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    follow(id:number){\r\n        return instance.post(`follow/${id}`, {}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    unfollow(id:number){\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getStatus(id:string){\r\n        return instance.get(`profile/status/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    updateStatus(status: any){\r\n        return instance.put(`profile/status`, {status: status}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean){\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`, )\r\n    },\r\n}\r\n\r\n\r\n","import {ActionsType} from \"./redux-store\";\r\nimport {api} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\n\r\n\r\ntype PostType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nexport type ContactsType = {\r\n    facebook?: string\r\n    website?: string\r\n    vk?: string\r\n    twitter?: string\r\n    instagram?: string\r\n    youtube?: string\r\n    github?: string\r\n    mainLink?: string\r\n}\r\n\r\nexport type PhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\n\r\nexport type ProfileResponseType ={\r\n    userId: number\r\n    fullName: string\r\n    aboutMe: string\r\n    contacts: ContactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    photos: PhotosType\r\n}\r\n\r\n\r\n\r\ntype InitialSTateType = {\r\n    profile: ProfileResponseType\r\n    newPostsText:string,\r\n    posts: PostType[],\r\n    status: string\r\n}\r\n\r\nconst initialState:InitialSTateType = {\r\n    posts:\r\n        [{id: 1, message: \"Hi\", likesCount: 4},\r\n            {id: 2, message: \"Hey\", likesCount: 14},\r\n            {id: 3, message: \"Good day!\", likesCount: 24},\r\n            {id: 4, message: \"Yo!\", likesCount: 5},] as Array<PostType>,\r\n    newPostsText: \"type yor post here\",\r\n    profile: {\r\n        userId: 0,\r\n        fullName: \"\",\r\n        aboutMe: \"\",\r\n        contacts: { facebook: \"\",\r\n            website: \"\",\r\n            vk: \"\",\r\n            twitter: \"\",\r\n            instagram: \"\",\r\n            youtube: \"\",\r\n            github: \"\",\r\n            mainLink: \"\",},\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: \"\",\r\n        photos: { small: \"\",\r\n            large: \"\",}\r\n    },\r\n    status: '',\r\n}\r\n\r\n\r\n\r\nexport type PostsInitialStateType = typeof initialState\r\n\r\nconst profileReducer = (state: PostsInitialStateType = initialState, action: ActionsType): PostsInitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            const newPost: PostType = {\r\n                id: 5,\r\n                message: action.postText,\r\n                likesCount: 3\r\n            }\r\n            return {\r\n\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostsText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostAC = (postText: string) => {\r\n    return {\r\n        type: ADD_POST,\r\n        postText: postText\r\n    } as const\r\n}\r\n\r\nexport const setUserProfile = (profile: ProfileResponseType) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile: profile\r\n    } as const\r\n}\r\n\r\nexport const setStatus = (status: string) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status: status\r\n    } as const\r\n}\r\n\r\n\r\nexport const getUserProfile = (userId:string) => (dispatch:Dispatch<ActionsType>)=> {\r\n    api.getProfile(userId).then(data => {\r\n        dispatch(setUserProfile(data))\r\n    })\r\n}\r\n\r\nexport const getStatus = (userId:string) => (dispatch:Dispatch<ActionsType>)=> {\r\n    api.getStatus(userId).then(data => {\r\n        debugger\r\n        dispatch(setStatus(data))\r\n    })\r\n}\r\n\r\nexport const updateStatus = (status: string) => (dispatch:Dispatch<ActionsType>)=> {\r\n    api.updateStatus(status).then(data => {\r\n        if(data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n    })\r\n}\r\n\r\nexport default profileReducer\r\n","import {ActionsType} from \"./redux-store\";\r\n\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nlet initialState = {\r\n    dialogs:\r\n        [{id: 1, name: \"Peter\"},\r\n            {id: 2, name: \"Olga\"},\r\n            {id: 3, name: \"Jack\"},\r\n            {id: 4, name: \"Tomas\"},] as Array<DialogType>,\r\n    messages:\r\n        [{id: 1, message: \"Hi!\"},\r\n            {id: 2, message: \"Hi!\"},\r\n            {id: 3, message: \"Whatsup!\"},\r\n            {id: 4, message: \"Hey!\"},] as Array<MessageType>,\r\n}\r\n\r\nexport type DialogInitialStateType = typeof initialState\r\n\r\nconst dialogsReducer = (state: DialogInitialStateType = initialState, action: ActionsType): DialogInitialStateType => {\r\n    switch (action.type) {\r\n\r\n        case \"SEND-MESSAGE\":\r\n            let body = action.message\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (message: string) => {\r\n    return {\r\n        type: \"SEND-MESSAGE\",\r\n        message: message\r\n    } as const\r\n}\r\n\r\nexport default dialogsReducer\r\n","import {ActionsType} from \"./redux-store\";\r\n\r\n\r\nexport type SidebarType = {}\r\nlet initialState = {}\r\n\r\nconst sidebarReducer = (state: SidebarType = initialState, action: ActionsType) => {\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer\r\n","import {ActionsType} from \"./redux-store\";\r\nimport {api} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\";\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = \"TOGGLE-FOLLOWING-IN-PROGRESS\";\r\nconst SET_USERS = \"SET-USERS\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\r\nconst SET_USERS_TOTAL_COUNT = \"SET-USERS-TOTAL-COUNT\";\r\n\r\n\r\nexport type UserType = {\r\n    id: number\r\n    photos: UserPhoto\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: UsersLocation\r\n}\r\n\r\ntype UserPhoto = {\r\n    small: string\r\n    large: string\r\n}\r\n\r\ntype UsersLocation = {\r\n    city: string\r\n    country: string\r\n}\r\n\r\nexport type UsersInitialStateType = {\r\n    users: Array<UserType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingInProgress: number[]\r\n\r\n}\r\n\r\n\r\nconst initialState: UsersInitialStateType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state: UsersInitialStateType = initialState, action: ActionsType): UsersInitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW :\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW :\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case SET_USERS :\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE :\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_USERS_TOTAL_COUNT :\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        case TOGGLE_IS_FETCHING :\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS :\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userID: number) => ({type: \"FOLLOW\", userID}) as const\r\nexport const unfollowSuccess = (userID: number) => ({type: \"UNFOLLOW\", userID}) as const\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users}) as const\r\nexport const setCurrentPage = (currentPage: number) => ({\r\n    type: SET_CURRENT_PAGE, currentPage: currentPage\r\n}) as const\r\n\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({\r\n    type: SET_USERS_TOTAL_COUNT, count: totalUsersCount\r\n}) as const\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => ({\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n}) as const\r\nexport const toggleFollowingInProgress = (isFetching: boolean, userId: number) => ({\r\n    type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n    isFetching,\r\n    userId\r\n}) as const\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n    return (dispatch: any) => {\r\n        dispatch(toggleIsFetching(true))\r\n        api.getUsers(currentPage, pageSize).then(data => {\r\n            dispatch(toggleIsFetching(false))\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setTotalUsersCount(data.totalCount))\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const follow = (userId: number) => {\r\n    return (dispatch:Dispatch<ActionsType>) => {\r\n        dispatch(toggleFollowingInProgress(true, userId));\r\n        api.follow(userId).\r\n        then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(followSuccess(userId))\r\n            }\r\n            dispatch(toggleFollowingInProgress(false, userId))\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const unfollow =(userId: number) => {\r\n\r\n    return (dispatch:Dispatch<ActionsType>) => {\r\n        dispatch(toggleFollowingInProgress(true, userId));\r\n        api.unfollow(userId).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(unfollowSuccess(userId))\r\n            }\r\n            dispatch(toggleFollowingInProgress(false, userId))\r\n        })\r\n    }\r\n}\r\nexport default usersReducer\r\n","import {ActionsType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {api} from \"../api/api\";\r\nimport {setStatus} from \"./profile-reducer\";\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\n\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nexport type AuthInitialStateType = typeof initialState\r\n\r\nconst authReducer = (state: AuthInitialStateType = initialState, action: ActionsType): AuthInitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId: any, email: any, login: any, isAuth: boolean) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: {userId, email, login, isAuth }\r\n    } as const\r\n}\r\n\r\nexport const getAuthUserData = () => (dispatch: Dispatch<any>) => {\r\n    api.checkAuth()\r\n        .then(response => {\r\n            debugger\r\n                if (response.resultCode === 0) {\r\n                    let {userId, login, email} = response.data;\r\n                    dispatch(setAuthUserData(userId, login, email, true))\r\n                }\r\n            }\r\n        )\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => (dispatch: Dispatch<any>) => {\r\n\r\n    api.login(email, password, rememberMe)\r\n        .then(response => {\r\n            debugger\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(getAuthUserData())\r\n                }\r\n                else (\r\n                    alert(response.data.messages)\r\n                )\r\n            }\r\n        )\r\n        .catch((e) => {\r\n            const error = e.response ? e.response.data.error: (e.message + ', more details in the console');\r\n            alert(error)\r\n            console.log('Error: ', {...e})\r\n        })\r\n}\r\n\r\nexport const logout = () => (dispatch: Dispatch<any>) => {\r\n    debugger\r\n    api.logout()\r\n        .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setAuthUserData(null, null, null, false))\r\n                }\r\n            }\r\n        )\r\n}\r\n\r\n\r\nexport default authReducer\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer, {addPostAC, setStatus, setUserProfile} from \"./profile-reducer\";\r\nimport dialogsReducer, {sendMessageAC} from \"./dialog-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer, {\r\n    followSuccess,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    setUsers, toggleFollowingInProgress,\r\n    toggleIsFetching,\r\n    unfollowSuccess\r\n} from \"./users-reducer\";\r\nimport authReducer, {setAuthUserData} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\n\r\n\r\ntype AddPostActionType = ReturnType<typeof addPostAC>\r\ntype SendMessageActionType = ReturnType<typeof sendMessageAC>\r\ntype SetUsersActionType = ReturnType<typeof setUsers>\r\ntype FollowUserActionType = ReturnType<typeof followSuccess>\r\ntype UnFollowUserActionType = ReturnType<typeof unfollowSuccess>\r\ntype SetCurrentPageActionType = ReturnType<typeof setCurrentPage>\r\ntype SetUsersTotalCountActionType = ReturnType<typeof setTotalUsersCount>\r\ntype ToggleIsFetchingActionType = ReturnType<typeof toggleIsFetching>\r\ntype SetUserProfileActionType = ReturnType<typeof setUserProfile>\r\ntype SetUserDataActionType = ReturnType<typeof setAuthUserData>\r\ntype ToggleIsFollowingInProgressActionType = ReturnType<typeof toggleFollowingInProgress>\r\ntype SetStatusActionType = ReturnType<typeof setStatus>\r\n\r\n\r\n\r\n\r\n\r\nexport type ActionsType =\r\n    AddPostActionType\r\n    | SendMessageActionType\r\n    | SetUsersActionType\r\n    | FollowUserActionType\r\n    | UnFollowUserActionType\r\n    | SetCurrentPageActionType\r\n    | SetUsersTotalCountActionType\r\n    | ToggleIsFetchingActionType\r\n    | SetUserProfileActionType\r\n    | SetUserDataActionType\r\n    | ToggleIsFollowingInProgressActionType\r\n    | SetStatusActionType\r\n\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n        profilePage: profileReducer,\r\n        dialogPage: dialogsReducer,\r\n        sidebar: sidebarReducer,\r\n        users: usersReducer,\r\n        auth: authReducer\r\n    }\r\n)\r\n\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n\r\nlet store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n// @ts-ignore\r\nwindow.store = store\r\nexport default store\r\n\r\n","import React from 'react';\r\nimport styles from './Navbar.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={styles.nav}>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/profile\" activeClassName={styles.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={styles.active}>Messages</NavLink>\r\n            </div><div className={styles.item}>\r\n                <NavLink to=\"/users\" activeClassName={styles.active}>Users</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/music\" activeClassName={styles.active}>Music</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/news\" activeClassName={styles.active}>News</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/settings\" activeClassName={styles.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport style from './Diaologs.module.css'\r\n\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Music;","import React from 'react';\r\nimport style from './Diaologs.module.css'\r\n\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default News;","import React from 'react';\r\nimport style from './Diaologs.module.css'\r\n\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Settings;","import React from 'react';\r\nimport style from './../Diaologs.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nexport type DialogItemProps = {\r\n    name: string,\r\n    id: number\r\n}\r\n\r\nconst DialogItem: React.FC<DialogItemProps> = (props) => {\r\n    let path = '/dialogs/' + props.id\r\n    return (\r\n        <div className={style.dialog + ' ' + style.active}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport style from './../Diaologs.module.css'\r\n\r\nexport type MessageItemProps = {\r\n    message: string,\r\n    id: number\r\n}\r\n\r\nconst Message: React.FC<MessageItemProps> = (props) => {\r\n    return (\r\n        <div className={style.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport style from './Diaologs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useFormik} from \"formik\";\r\nimport {Button, FormControl, FormGroup, Grid, TextField} from \"@material-ui/core\";\r\nimport {sendMessageAC} from \"../../redux/dialog-reducer\";\r\n\r\n\r\nconst Dialogs = (props:any) => {\r\n    let state = props.dialogPage\r\n    let dialogElements = state.dialogs.map((d: { id: number; name: string; }) => <DialogItem id={d.id} name={d.name}/>)\r\n    let messageElements = state.messages.map((m: { id: number; message: string; }) => <Message id={m.id} message={m.message}/>)\r\n\r\n    return (\r\n        <div className={style.dialogs}>\r\n            <div className={style.dialogs__items}>\r\n                {dialogElements}\r\n            </div>\r\n            <div className={style.messages}>\r\n                <div>{messageElements}</div>\r\n                <div>\r\n                    <AddMessageForm/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\ntype FormikErrorType = {\r\n    message?: string\r\n}\r\n\r\nexport const AddMessageForm = () => {\r\n    const dispatch = useDispatch()\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            message: ''\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if(!values.message) {\r\n                errors.message = 'Required';\r\n            } else if (values.message.length > 200) {\r\n                errors.message = 'Sorry, message limits 200 symbols';\r\n            }\r\n            return errors;\r\n\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(sendMessageAC(values.message));\r\n            formik.resetForm()\r\n        },\r\n    })\r\n\r\n    return <Grid container justify=\"center\">\r\n        <Grid item xs={4}>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <FormControl>\r\n                    <FormGroup>\r\n                        <TextField\r\n                            label=\"message\"\r\n                            margin=\"normal\"\r\n                            variant=\"filled\"\r\n                            name=\"message\"\r\n                            onChange={formik.handleChange}\r\n                            value={formik.values.message}\r\n                            onBlur={formik.handleBlur}\r\n                        />\r\n                        {formik.touched.message && formik.errors.message && <div style={{color: 'red'}}>{formik.errors.message}</div>}\r\n                        <Button type={'submit'} variant={'contained'} color={'secondary'}>Send</Button>\r\n                    </FormGroup>\r\n                </FormControl>\r\n            </form>\r\n        </Grid>\r\n    </Grid>\r\n}\r\n\r\nexport default Dialogs;\r\n","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppRootStateType} from \"../redux/redux-store\";\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType): MapStateToPropsType=> {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>){\r\n    function RedirectComponent(props: MapStateToPropsType) {\r\n        let {isAuth,...restProps} = props\r\n\r\n        if (!isAuth) {\r\n            return <Redirect to={'/login'}/>\r\n        }\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent\r\n}\r\n\r\n","import React from 'react';\r\nimport style from './Diaologs.module.css'\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport {DialogInitialStateType} from \"../../redux/dialog-reducer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {getUserProfile} from \"../../redux/profile-reducer\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    dialogPage: DialogInitialStateType\r\n}\r\n\r\nlet mapStateToProps = (state: AppRootStateType): MapStatePropsType=> {\r\n    return {\r\n        dialogPage: state.dialogPage\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile}),\r\n    withAuthRedirect)\r\n(Dialogs)\r\n","export default __webpack_public_path__ + \"static/media/user-photo.38481ea5.png\";","import React from \"react\";\r\nimport styles from './Users.module.css';\r\nimport userPhoto from \"../../assets/user-photo.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Users = (props: any) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    debugger\r\n    return <div>\r\n        <div>\r\n            {pages.map(p => {\r\n                return <span className={props.currentPage === p ? styles.selectedPage : ''}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p)\r\n                             }}\r\n                >{p}</span>\r\n            })}\r\n\r\n        </div>\r\n        {\r\n            props.usersPage.users.map((u: { id: string | number | null | undefined; photos: { small: string | null | undefined; }; followed: any; name: React.ReactNode; status: React.ReactNode; }) =>\r\n\r\n                <div key={u.id}>\r\n\r\n                 <span>\r\n                     <NavLink to={`/profile/${u.id}`}><img src={u.photos.small !== null ? u.photos.small : userPhoto}\r\n                                                           className={styles.userPhoto}/></NavLink>\r\n                     <div>{u.id}</div>\r\n                     <div>{\r\n                         u.followed\r\n\r\n                             ? <button disabled={\r\n                                 props.followingInProgress.some((id: string | number) => id === u.id)}\r\n                                       onClick={() => {\r\n                                           {\r\n                                               props.unfollow(u.id)\r\n                                           }\r\n                                       }}>Unfollow</button>\r\n                             : <button\r\n                                 disabled={props.followingInProgress.some((id: string | number) => id === u.id)}\r\n                                 onClick={() => {\r\n                                     {props.follow(u.id)}\r\n                                 }}>Follow</button>\r\n                     }</div>\r\n                 </span>\r\n                    <span>\r\n                     <span>\r\n                         <div>{u.name}</div>\r\n                         <div>{u.status}</div>\r\n                     </span>\r\n                     <span>\r\n                         <div>{'______________'}</div>\r\n\r\n                     </span>\r\n                 </span>\r\n                </div>)\r\n        }\r\n    </div>\r\n}\r\n\r\n\r\nexport default Users\r\n","export default __webpack_public_path__ + \"static/media/bars.a2e35dd5.svg\";","import React from 'react'\r\nimport preloader from '../../../assets/bars.svg'\r\nimport style from './Preloader.module.css'\r\nconst Preloader = (props:any) =>{\r\n    return (\r\n        <div className={style.preloader}>\r\n            <img src={preloader}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader\r\n","import React from \"react\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    setCurrentPage,\r\n    setUsers,\r\n    setTotalUsersCount,\r\n    toggleIsFetching,\r\n    UsersInitialStateType,\r\n    UserType, toggleFollowingInProgress, getUsers, follow, unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport styles from \"./Users.module.css\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {api} from \"../../api/api\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    usersPage: UsersInitialStateType,\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    follow: (userID: number) => void\r\n    unfollow: (userID: number) => void\r\n    setUsers: (users: Array<UserType>) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n    setTotalUsersCount: (totalCount: number) => void\r\n    toggleIsFetching: (isFetching: boolean) => void\r\n    toggleFollowingInProgress: (isFetching: boolean, userId: number)=> void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n\r\n\r\n}\r\n\r\nexport type UsersType = MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\nclass UsersContainer extends React.Component<UsersType> {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.toggleIsFetching(true)\r\n        debugger\r\n        api.getUsers(pageNumber, this.props.pageSize).then(data => {\r\n            this.props.toggleIsFetching(false)\r\n            this.props.setUsers(data.items)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   usersPage={this.props.usersPage}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppRootStateType): MapStatePropsType => {\r\n    return {\r\n        usersPage: state.users,\r\n        pageSize: state.users.pageSize,\r\n        totalUsersCount: state.users.totalUsersCount,\r\n        currentPage: state.users.currentPage,\r\n        isFetching: state.users.isFetching,\r\n        followingInProgress: state.users.followingInProgress\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setUsers,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    toggleIsFetching,\r\n    toggleFollowingInProgress,\r\n    getUsers\r\n})(UsersContainer);\r\n\r\n\r\n","import React from 'react';\r\nimport styles from './ProfileInfo.module.css'\r\n\r\nclass ProfileStatus extends React.Component<any, any> {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n\r\n    }\r\n    activateEditMode = () => {\r\n        this.setState({\r\n                editMode: true\r\n            }\r\n        )\r\n    }\r\n    deActivateEditMode = () => {\r\n\r\n        this.setState({\r\n            editMode: false\r\n            }\r\n        )\r\n        this.props.updateStatus(this.state.status)\r\n    }\r\n\r\n    componentDidUpdate(prevProps: any, prevState: any) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                    status: this.props.status\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode && <div>\r\n                    <span onDoubleClick={this.activateEditMode}>{this.props.status || \"undefined status\"}</span>\r\n                </div>}\r\n                {this.state.editMode && <div>\r\n                    <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deActivateEditMode} value={this.state.status}/></div>}\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default ProfileStatus;\r\n","import React from 'react';\r\nimport styles from './ProfileInfo.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport userPhoto from \"../../../assets/user-photo.png\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\n\r\nconst ProfileInfo = (props: any) => {\r\n    debugger\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    debugger\r\n    return (\r\n        <div>\r\n            <div className={styles.description__block}>\r\n\r\n                <img src={props.profile.photos.large ? props.profile.photos.large : userPhoto}/>\r\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n                <div>{props.profile.fullName}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport style from \"./Post.module.css\";\r\n\r\ntype PostTypeProps = {\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nconst Post: React.FC<PostTypeProps> = (props) => {\r\n    return (\r\n        <div className={style.item}><img\r\n            src='https://vokrug-tv.ru/pic/news/5/f/c/2/rsz300x300_5fc2879465129c11d65749ab9e3db7cc.jpg'></img>{props.message}\r\n            <div><span>Likes: {props.likesCount}</span></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React, {ChangeEvent} from 'react';\r\nimport style from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useFormik} from \"formik\";\r\nimport {sendMessageAC} from \"../../../redux/dialog-reducer\";\r\nimport {Button, FormControl, FormGroup, Grid, TextField} from \"@material-ui/core\";\r\nimport {addPostAC} from \"../../../redux/profile-reducer\";\r\n\r\n\r\n\r\nexport type PostType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\n\r\nexport const MyPosts = (props:any) => {\r\n\r\n    let postElements = props.posts.map( (p:PostType) => <Post key = {p.id} message={p.message} likesCount={p.likesCount}/>)\r\n\r\n    let onAddPost = () => {\r\n        props.addPost()\r\n    }\r\n\r\n    let onPostChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n        props.updateNewPostText(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div className={style.posts__block}>\r\n            <h3>My posts</h3>\r\n            <AddNewPost/>\r\n            <div className={style.posts}>\r\n                { postElements }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\ntype FormikErrorType = {\r\n    post?: string\r\n}\r\n\r\nexport const AddNewPost = () => {\r\n    const dispatch = useDispatch()\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            post: ''\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if(!values.post) {\r\n                errors.post = 'Required';\r\n            } else if (values.post.length > 200) {\r\n                errors.post = 'Sorry, post limits 200 symbols';\r\n            }\r\n            return errors;\r\n\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(addPostAC(values.post));\r\n            formik.resetForm()\r\n        },\r\n    })\r\n\r\n    return <Grid container justify=\"center\">\r\n        <Grid item xs={4}>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <FormControl>\r\n                    <FormGroup>\r\n                        <TextField\r\n                            label=\"post\"\r\n                            margin=\"normal\"\r\n                            variant=\"filled\"\r\n                            name=\"post\"\r\n                            onChange={formik.handleChange}\r\n                            value={formik.values.post}\r\n                            onBlur={formik.handleBlur}\r\n                        />\r\n                        {formik.touched.post && formik.errors.post && <div style={{color: 'red'}}>{formik.errors.post}</div>}\r\n                        <Button type={'submit'} variant={'contained'} color={'secondary'}>Post</Button>\r\n                    </FormGroup>\r\n                </FormControl>\r\n            </form>\r\n        </Grid>\r\n    </Grid>\r\n}\r\n","import React from 'react';\r\n\r\nimport {MyPosts} from './MyPosts';\r\nimport {connect} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../redux/redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {addPostAC, PostsInitialStateType} from \"../../../redux/profile-reducer\";\r\n\r\n\r\ntype MapDispatchPropsType = {\r\n    addPost: (newPostsText: string) => void\r\n}\r\n\r\n\r\nlet mapStateTopProps = (state: AppRootStateType): PostsInitialStateType => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostsText: state.profilePage.newPostsText,\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch: Dispatch): MapDispatchPropsType => {\r\n    return {\r\n        addPost: (newPostsText: string) => {\r\n            dispatch(addPostAC(newPostsText))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateTopProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props:any) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","import React, {useEffect} from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {updateStatus, getStatus, getUserProfile, ProfileResponseType} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    profile:ProfileResponseType\r\n    status:string\r\n\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUserProfile: (userId: string) => void\r\n    getStatus: (userId: string) => void\r\n    updateStatus:(status: string) => void\r\n}\r\n\r\ntype PathParamsType = {\r\n    usrID: string\r\n}\r\n\r\ntype OwnPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\ntype PropsType = RouteComponentProps<PathParamsType> & OwnPropsType\r\n\r\nfunction ProfileContainer(props: PropsType) {\r\n\r\n    useEffect(() => {\r\n        let userId = props.match.params.usrID\r\n        if(!userId) {\r\n            userId = \"15441\";\r\n        }\r\n        props.getUserProfile(userId);\r\n        props.getStatus(userId);\r\n    }, [])\r\n    return (\r\n        <Profile profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state: any): MapStatePropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus} ),\r\n    withRouter,\r\n    withAuthRedirect)\r\n(ProfileContainer)\r\n","import React from 'react';\r\nimport styles from './Header.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst Header = (props: any) => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <img src=\"https://www.onlinelogomaker.com/blog/wp-content/uploads/2017/07/door-company-logo.jpg\"/>\r\n            <div className={styles.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\n\r\nexport default Header;\r\n","import React, {useEffect} from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout, setAuthUserData} from \"../../redux/auth-reducer\";\r\nimport {api} from \"../../api/api\";\r\n\r\n\r\nfunction HeaderContainer(props: any) {\r\n    useEffect(() => {\r\n        api.checkAuth().then(data => {\r\n            if (data.resultCode === 0) {\r\n                let {id, login, email} = data.data;\r\n                props.setAuthUserData(id, login, email)\r\n            }\r\n        });\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <Header {...props}/>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\r\n        isAuth: state.auth.isAuth, login: state.auth.login\r\n\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {setAuthUserData, logout})(HeaderContainer);\r\n","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport {useFormik} from \"formik\";\r\nimport {Checkbox, FormControl, FormControlLabel, FormGroup, FormLabel, TextField, Button, Grid} from '@material-ui/core'\r\nimport {login} from \"../../redux/auth-reducer\";\r\n\r\nconst LoginForm = () => {\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state =>\r\n        state.auth.isAuth)\r\n\r\n    if(isLoggedIn) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (<div>\r\n            <h1>Login</h1>\r\n            <Login/>\r\n        </div>\r\n    );\r\n};\r\n\r\ntype FormikErrorType = {\r\n    email?: string\r\n    password?: string\r\n    rememberMe?: boolean\r\n}\r\n\r\nexport const Login = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state =>\r\n        state.auth.isAuth)\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n            rememberMe: false\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.email) {\r\n                errors.email = 'Required';\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n\r\n\r\n            if(!values.password) {\r\n                errors.password = 'Required';\r\n            } else if (values.password.length < 3) {\r\n                errors.password = 'Must be 3 characters or more';\r\n            }\r\n            return errors;\r\n\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(login(values.email, values.password, values.rememberMe))\r\n            formik.resetForm()\r\n        },\r\n    })\r\n\r\n    if(isLoggedIn) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <Grid container justify=\"center\">\r\n        <Grid item xs={4}>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <FormControl>\r\n                    <FormLabel>\r\n                        <p>To log in get registered\r\n                            <a href={'https://social-network.samuraijs.com/'}\r\n                               target={'_blank'}>here\r\n                            </a>\r\n                        </p>\r\n                        <p>or use common test account credentials:</p>\r\n                        <p>Email: free@samuraijs.com</p>\r\n                        <p>Password: free</p>\r\n                    </FormLabel>\r\n                    <FormGroup>\r\n                        <TextField\r\n                            label=\"Email\"\r\n                            margin=\"normal\"\r\n                            name=\"email\"\r\n                            onChange={formik.handleChange}\r\n                            value={formik.values.email}\r\n                            onBlur={formik.handleBlur}\r\n                        />\r\n                        {formik.touched.email && formik.errors.email && <div style={{color: 'red'}}>{formik.errors.email}</div>}\r\n                        <TextField\r\n                            type=\"password\"\r\n                            label=\"Password\"\r\n                            margin=\"normal\"\r\n                            name=\"password\"\r\n                            onChange={formik.handleChange}\r\n                            value={formik.values.password}\r\n                            onBlur={formik.handleBlur}\r\n                        />\r\n                        {formik.touched.password && formik.errors.password && <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n                        <FormControlLabel\r\n                            label={'Remember me'}\r\n                            control={<Checkbox\r\n                                name=\"rememberMe\"\r\n                                onChange={formik.handleChange}\r\n                                value={formik.values.rememberMe}\r\n                            />}\r\n                        />\r\n                        <Button type={'submit'} variant={'contained'} color={'primary'}>Login</Button>\r\n                    </FormGroup>\r\n                </FormControl>\r\n            </form>\r\n\r\n        </Grid>\r\n    </Grid>\r\n}\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Header from \"./components/Header/Header\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Dialogs from \"./components/Dialogs/Dialogs\";\r\nimport {BrowserRouter, Route} from \"react-router-dom\";\r\nimport Music from \"./components/Music/Music\";\r\nimport News from \"./components/News/News\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Profile from \"./components/Profile/Profile\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginForm from \"./components/Login/LoginForm\";\r\n\r\n\r\nconst App = () => {\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path={'/profile/:usrID?'} render={() => <ProfileContainer/>}/>\r\n                    <Route path={'/users'} render={() => <UsersContainer/>}/>\r\n                    <Route path={'/dialogs'} render={() => <DialogsContainer/>}/>\r\n                    <Route path={'/news'} component={() => <News/>}/>\r\n                    <Route path={'/music'} component={() => <Music/>}/>\r\n                    <Route path={'/settings'} component={() => <Settings/>}/>\r\n                    <Route path={'/login'} component={() => <LoginForm/>}/>\r\n                </div>\r\n            </div>\r\n        </BrowserRouter>\r\n\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom\";\r\nimport store from \"./redux/redux-store\";\r\nimport App from \"./App\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <React.StrictMode>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </React.StrictMode>\r\n    </BrowserRouter>\r\n    , document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__37Xrl\",\"item\":\"Navbar_item__1Zr7m\",\"active\":\"Navbar_active__1YIFL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Diaologs_dialogs__j6jbx\",\"dialogs__items\":\"Diaologs_dialogs__items__2RU2Y\",\"dialog\":\"Diaologs_dialog__32Ltr\",\"active\":\"Diaologs_active__2Tpwp\",\"messages\":\"Diaologs_messages__2uU_I\",\"message\":\"Diaologs_message__1Wurd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__r9MII\",\"selectedPage\":\"Users_selectedPage__1dL59\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts__block\":\"MyPosts_posts__block__1VN4w\",\"posts\":\"MyPosts_posts__2lhSZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Ucbf\",\"loginBlock\":\"Header_loginBlock__1BkQ_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__Cst70\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description__block\":\"ProfileInfo_description__block__RDn6H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__w9ifP\",\"active\":\"Post_active__2fyV0\"};"],"sourceRoot":""}